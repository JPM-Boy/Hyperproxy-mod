# Neolibs 

je_hpx_split_neolibs = {
	icon = "gfx/interface/icons/ig_icons/national_liberals.dds"

	group = bpm_je_group_interest_groups

	is_shown_when_inactive = {
		always = yes
	}

	possible = {
		game_date >= 1980.1.1
		hidden_trigger = { NOT = { has_variable = local_neolib_split_var } }
			root.ig:ig_cons = {
			OR = {
				is_marginal = no
				is_being_bolstered = yes
			}
			}
			root.ig:ig_reactionary = {
			OR = {
				is_marginal = no
				is_being_bolstered = yes
			}
		}
		bpm_country_laws_no_voting = no
		NOT = { has_law = law_type:law_council_republic}
	}

	immediate = {
		set_variable = {
			name = neolib_progress
			value = 0
		}
	}

	complete = {
		var:neolib_progress >= 100
	}

	on_complete = {
		trigger_event = { id = hpx_ig.3 }
	}

	on_weekly_pulse = {
		effect = {
			if = {
				limit = {
					root = {
						average_sol >= 9
					}
				}
				change_variable = {
					name = neolib_progress
					add = 5
				}
			}
			if = {
				limit = { ig:ig_liberal = { is_powerful = yes }}
				change_variable = { name = neolib_progress add = 2}
			}
		}
	}

	progressbar = yes

	current_value = {
		value = var:neolib_progress
	}

	goal_add_value = {
		add = 100
	}

	weight = 100

	should_be_pinned_by_default = yes
}

# prog

je_hpx_split_prog = {
	icon = "gfx/interface/icons/ig_icons/radicals.dds"

	group = bpm_je_group_interest_groups

	is_shown_when_inactive = {
		always = yes
	}

	possible = {
		game_date >= 1990.1.1
		has_variable = local_socdem_split_var
		hidden_trigger = { NOT = { has_variable = local_prog_split_var } }
			root.ig:ig_liberal = {
				OR = {
					is_marginal = no
					is_being_bolstered = yes
				}
			}
			root.ig:ig_socdem = {
				OR = {
					is_marginal = no
					is_being_bolstered = yes
				}
			}
	}

	immediate = {
		set_variable = {
			name = prog_progress
			value = 0
		}
	}

	complete = {
		var:prog_progress >= 100
	}

	on_complete = {
		trigger_event = { id = hpx_ig.5 }
	}

	on_weekly_pulse = {
		effect = {
			if = {
				limit = {
					root = {
						average_sol >= 9
					}
				}
				change_variable = {
					name = prog_progress
					add = 5
				}
			}
			if = {
				limit = { ig:ig_liberal = { is_powerful = yes }}
				change_variable = { name = prog_progress add = 2}
			}
			if = {
				limit = { ig:ig_socdem = { is_powerful = yes }}
				change_variable = { name = prog_progress add = 2}
			}
		}
	}

	progressbar = yes

	current_value = {
		value = var:prog_progress
	}

	goal_add_value = {
		add = 100
	}

	weight = 100

	should_be_pinned_by_default = yes
}

# Socdems 

je_hpx_split_socdems = {
	icon = "gfx/interface/icons/ig_icons/socdem.dds"

	group = bpm_je_group_interest_groups

	is_shown_when_inactive = {
		always = yes
	}

	possible = {
		game_date >= 1980.1.1
		hidden_trigger = { NOT = { has_variable = local_socdem_split_var } }
			root.ig:ig_refsoc = {
				OR = {
					is_marginal = no
					is_being_bolstered = yes
				}
			}
			root.ig:ig_revsoc = {
				OR = {
					is_marginal = no
					is_being_bolstered = yes
				}
			}
	}

	immediate = {
		set_variable = {
			name = socdem_progress
			value = 0
		}
	}

	complete = {
		var:socdem_progress >= 100
	}

	on_complete = {
		trigger_event = { id = hpx_ig.1 }
	}

	on_weekly_pulse = {
		effect = {
			if = {
				limit = {
					root = {
						average_sol >= 9
					}
				}
				change_variable = {
					name = socdem_progress
					add = 5
				}
			}
			if = {
				limit = { ig:ig_refsoc = { is_powerful = yes }}
				change_variable = { name = socdem_progress add = 2}
			}
		}
	}

	progressbar = yes

	current_value = {
		value = var:socdem_progress
	}

	goal_add_value = {
		add = 100
	}

	weight = 100

	should_be_pinned_by_default = yes
}

